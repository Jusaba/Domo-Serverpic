<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Librerias Serverpic: Referencia del Archivo libraries/Serverpic/ModoAP.cpp</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Librerias Serverpic
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Librerias Serverpic</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Buscar" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generado por Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Buscar');
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_bc0718b08fb2015b8e59c47b2805f60c.html">libraries</a></li><li class="navelem"><a class="el" href="../../dir_29dc986c629ef16c27b74cec6dddccba.html">Serverpic</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Funciones</a>  </div>
  <div class="headertitle">
<div class="title">Referencia del Archivo ModoAP.cpp</div>  </div>
</div><!--header-->
<div class="contents">

<p>Funciones que ponen el modulo en modo AP y crea un interface para poderlo configurar.  
<a href="#details">Más...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Funciones</h2></td></tr>
<tr class="memitem:ad08f33e3e684adc86f8d1c6dcc2cfc4f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dc7/_modo_a_p_8cpp.html#ad08f33e3e684adc86f8d1c6dcc2cfc4f">ModoAP</a> (void)</td></tr>
<tr class="memdesc:ad08f33e3e684adc86f8d1c6dcc2cfc4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pone el modulo en modo AP.  <a href="#ad08f33e3e684adc86f8d1c6dcc2cfc4f">Más...</a><br /></td></tr>
<tr class="separator:ad08f33e3e684adc86f8d1c6dcc2cfc4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0888db78cca2894d64338cc409baa63e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dc7/_modo_a_p_8cpp.html#a0888db78cca2894d64338cc409baa63e">ApHandle</a> (void)</td></tr>
<tr class="memdesc:a0888db78cca2894d64338cc409baa63e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mantiene activo el servidor.  <a href="#a0888db78cca2894d64338cc409baa63e">Más...</a><br /></td></tr>
<tr class="separator:a0888db78cca2894d64338cc409baa63e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fec4a69ccae641488e54dbc4ebc8d2c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dc7/_modo_a_p_8cpp.html#a5fec4a69ccae641488e54dbc4ebc8d2c">PaginaPrincipal</a> ()</td></tr>
<tr class="memdesc:a5fec4a69ccae641488e54dbc4ebc8d2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pagina Html que ESP8266 envia cuando un cliente se conecta ( '/' )  <a href="#a5fec4a69ccae641488e54dbc4ebc8d2c">Más...</a><br /></td></tr>
<tr class="separator:a5fec4a69ccae641488e54dbc4ebc8d2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a730e7865c7f3dacd952ecd75c9204475"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dc7/_modo_a_p_8cpp.html#a730e7865c7f3dacd952ecd75c9204475">LeeFormularioConfiguracion</a> (void)</td></tr>
<tr class="memdesc:a730e7865c7f3dacd952ecd75c9204475"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recibe el formulario de confiuracion y extrae los datos parta grabarlos en EEPROM.  <a href="#a730e7865c7f3dacd952ecd75c9204475">Más...</a><br /></td></tr>
<tr class="separator:a730e7865c7f3dacd952ecd75c9204475"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Descripción detallada</h2>
<div class="textblock"><p>Funciones que ponen el modulo en modo AP y crea un interface para poderlo configurar. </p>
<dl class="section author"><dt>Autor</dt><dd>FabLab Lleida </dd>
<dd>
Jose Martinez Molero </dd>
<dd>
Julian Salas Bartolome </dd></dl>
<dl class="section version"><dt>Versión</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Fecha</dt><dd>Noviembre - DIciembre 2017</dd></dl>
<p>Este modulo contiene las funciones necesarias para configurar el modulo para que se pueda conectar a un router y despues a un servidor.</p>
<p>El modulo se pone en modo AP y como servidor. <br />
 El nombre y password del AP se definen en las lineas</p>
<p>#define ssidAP "Jusaba" #define passwordAP "24081960"</p>
<p>Cuando un cliente se conecta ese servidor a la ip 192.168.4.1 puerto 80 recibe un fornmulario con los datos de configuracion del modulo</p>
<p>Una vez rellenado el formulario, se envia de nuevo al servidor que se encargara de extraer los datos de configuracion, almacenarlos en la EERPOM, actualizar el byte de Flag de Configuracion y resetear el modulo</p>
<h2>Novedades en version 1.1 </h2>
<p>Se aÃ±ade en los formularios la posibilidad de habiilitar flag lHomeKit y lWebSocket </p>
</div><h2 class="groupheader">Documentación de las funciones</h2>
<a id="a0888db78cca2894d64338cc409baa63e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0888db78cca2894d64338cc409baa63e">&#9670;&nbsp;</a></span>ApHandle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ApHandle </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mantiene activo el servidor. </p>
<p>Atiende las solicitudes entrantes. Se hace un bucle simulando el loop del programa principal</p>
<ul>
<li><dl class="section see"><dt>Ver también</dt><dd><a class="el" href="../../d0/dc7/_modo_a_p_8cpp.html#ad08f33e3e684adc86f8d1c6dcc2cfc4f" title="Pone el modulo en modo AP. ">ModoAP()</a> </dd></dl>
</li>
</ul>

</div>
</div>
<a id="a730e7865c7f3dacd952ecd75c9204475"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a730e7865c7f3dacd952ecd75c9204475">&#9670;&nbsp;</a></span>LeeFormularioConfiguracion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LeeFormularioConfiguracion </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recibe el formulario de confiuracion y extrae los datos parta grabarlos en EEPROM. </p>
<p>Esta funcion se ejecuta cuando el modulo, en modo AP recibe uel formularios de configuracion rellenado, extrae los distintos datos de configuracion y llama a la funcion que se encarga de grabarlos en EEPROM </p>

</div>
</div>
<a id="ad08f33e3e684adc86f8d1c6dcc2cfc4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad08f33e3e684adc86f8d1c6dcc2cfc4f">&#9670;&nbsp;</a></span>ModoAP()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ModoAP </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pone el modulo en modo AP. </p>
<p>Pone el modulo en modo AP con los datos de ssidAP y passwordAP definido en <a class="el" href="../../d6/da4/_modo_a_p_8h.html" title="Funciones que ponen el modulo en modo AP y crea un interface para poderlo configurar. ">ModoAP.h</a></p>
<p>Configura el modo AP para enviar una pagina de configuracion al cliente que se conecte al servidor y para recibir los datos de configuracion de esa pagina Una vez en modo AP, llama a <a class="el" href="../../d0/dc7/_modo_a_p_8cpp.html#a0888db78cca2894d64338cc409baa63e" title="Mantiene activo el servidor. ">ApHandle()</a> para atender las peticiones de clientes</p>
<dl class="section see"><dt>Ver también</dt><dd><a class="el" href="../../d0/dc7/_modo_a_p_8cpp.html#a0888db78cca2894d64338cc409baa63e" title="Mantiene activo el servidor. ">ApHandle()</a> </dd></dl>

</div>
</div>
<a id="a5fec4a69ccae641488e54dbc4ebc8d2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fec4a69ccae641488e54dbc4ebc8d2c">&#9670;&nbsp;</a></span>PaginaPrincipal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PaginaPrincipal </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pagina Html que ESP8266 envia cuando un cliente se conecta ( '/' ) </p>
<p>Pagina con el formulario por el que se solicitan los datos de configuracin </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generado el Sábado, 23 de Mayo de 2020 19:59:31 para Librerias Serverpic por &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
